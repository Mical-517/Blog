---
title: 第一次博客搭建
published: 2026-01-29T00:09:47+08:00
summary: "使用hugo+github+cloudflare实现静态博客搭建"
cover:
  image: https://bucket-qjy.oss-cn-qingdao.aliyuncs.com/picture/202601290032945.png
tags: [博客]
categories: '技术'
draft: false
lang: ''
---

博客搭建参考了B站up[莱特雷]([【雷】Hugo + Github免费搭建博客，并实现自动化部署_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1bovfeaEtQ/?spm_id_from=333.337.search-card.all.click&vd_source=86d06d10a03dcd75fe3a632194bc3c3c)),[二叉树树]([从零教你搭建Hugo静态博客，并解决存图难、没评论系统等难点_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1bu96YqEXd/?spm_id_from=333.1007.top_right_bar_window_history.content.click&vd_source=86d06d10a03dcd75fe3a632194bc3c3c)),教程都很详细。

博客：[Hugo博客搭建教程以及配置调优 - AcoFork Blog](https://blog.acofork.com/posts/hugo/)

我的博客仓库配置：[Mical-517/Blog](https://github.com/Mical-517/Blog)

# 前期准备

1. 首先最重要的是有个自己的域名，用来加速我们博客网站的访问，因为使用cloudflare的page搭建的站点是后缀是.dev的，国内访问不强，所以我们要使用一个域名然后用cloudflare解析加速，实现国内网络访问

2. git：用于博客文章推送到仓库，以及版本控制
3. hugo：静态博客搭建框架，可以快速速构造一个静态博客本地文件
4. github账户：存放我们博客文件的仓库
5. cloudflare：用于生成我们的网页站点，以及加速我们的博客

# 具体流程

## 一. 安装并使用hugo

官网安装hugo后，使用hugo命令在文件夹任意位置，先生成一个本地的hugo博客的文件夹

命令：`hugo new site myBlog`

注意：如果终端发生hugo不是内部也不是外部命令，这里要使用的hugo命令就是那个安装的hugo文件夹的.exe程序，你可以将这个程序路径设置成系统变量，就可以在任意位置使用hugo命令，就可以正常使用

## 二. 安装theme

在[hugo官网]([The world's fastest framework for building websites](https://gohugo.io/))找到合适的theme主题，这里我演示的是[papermode](https://github.com/adityatelange/hugo-PaperMod.git themes/PaperMod),进入你的myBlog文件夹，执行

`git clone https://github.com/adityatelange/hugo-PaperMod.git themes/PaperMod`

修改hugo.toml为hugo.yaml

进入将内容改为

```yaml
baseURL: "https://站点url"
title: "网站标题"
LanguageCode: "zh-CN"
theme: "PaperMod"

# 启用首页个人简介展示
params:
  # 是否启用评论。你需要自己配置，或者直接引入Giscus等评论系统
  comments: false
  # 是否显示代码复制按钮
  ShowCodeCopyButtons: true
  # 是否显示面包屑导航
  ShowBreadCrumbs: false
  # 是否显示阅读时间
  ShowReadingTime: true
  # 是否显示分享按钮
  ShowShareButtons: true
  # 分享按钮配置
  # ShareButtons: ["linkedin", "twitter"]
  # 是否禁用主题切换按钮
  disableThemeToggle: false
  assets:
    favicon: "/你的/网站图标.jpg" # 需要在static文件夹放置对应的图片
    iconHeight: 35
  # 首页信息配置
  homeInfoParams:
    Title: "首页展示的标题"
    Content: >
      首页展示的文本

  # 设置网站头像和首页头像
  profileMode:
    enabled: false # 设为 true 将完全替换 homeInfoParams

  # 网站头像设置 (显示在导航栏)
  label:
    text: "左上角显示的文本"
    icon: "/你的/左上角显示的图片.jpg" # 这将显示在导航栏标题旁边。需要在static文件夹放置对应的图片
    iconHeight: 35

  # 社交图标 (显示在简介下方)
  socialIcons:
    - name: bilibili
      url: ""
    - name: github
      url: ""
    - name: telegram
      url: ""
    # 可以添加更多社交图标 https://github.com/adityatelange/hugo-PaperMod/wiki/Icons

# 顶部导航栏的快捷链接
menu:
  main:
    - identifier: categories
      name: 分类
      url: /categories/
      weight: 10
    - identifier: tags
      name: 标签
      url: /tags/
      weight: 20
    - identifier: archives
      name: 归档
      url: /archives/
      weight: 30
    - identifier: search
      name: 搜索
      url: /search/
      weight: 40
    # 可以添加更多导航链接。weight的值越高排序越靠后

# 如果要启用搜索功能，需要添加这个
outputs:
  home:
    - HTML
    - RSS
    - JSON # 必须，用于搜索功能
```

这里你按需写，或者看视频就行，基础博客的功能都有了



创建 `content\categories\_index.md` 写入：

```
---

title: 分类

layout: categories

---
```

创建 `content\tags\_index.md` 写入：

```
---

title: 标签

layout: tags

---
```

创建 `content\archives.md` 写入：

```
---

title: 归档

layout: archives

---
```

创建 `content\search.md` 写入：

```
---

title: "搜索"

layout: "search"

---
```

现在基本的配置已经完成，然后创建一个模板，就是以后你在新建文章的时候就会自动出现在文章的上方，你可以自定义自己文章的标题，以及标签分类和文章封面在 `archetypes\default.md` 写入：

```
---

title: {{ replace .File.ContentBaseName "-" " " | title }}

published: {{ .Date }}

summary: "文章简介"

cover:

  image: 文章封面图。也支持HTTPS

tags: [标签1, 标签2]

categories: '文章所处的分类'

draft: false

lang: ''

---
```

现在整个博客搭建框架已经完成了

接下来我们就可以通过命令来创建文章，并开始写作了。注意，最终构建的文章URL是你的文章的文件名。比如：`https://你的网站.com/posts/first` 所以文章文件名尽量简短，这并不会影响你的文章标题

在终端运行：

```
hugo new posts/first.md
```

当我们写完一篇文章想要预览网站，可以使用

在终端运行：

```
hugo server
```

## 三.上传博客到github仓库

在github上创建一个public仓库，这里有一个点要注意，就是如果你想要引入评论系统的话，就需要在这个仓库的设置中把评论选项打开
创建好仓库之后，创建一个.gitignore文件，写入以下信息

```yaml
/public
.hugo_build.lock`
```

然后将我们整个的myblog文件上传到这个仓库上，现在我们的github方面已经完成

## 四.部署cloudflare

![搭建博客p1](https://bucket-qjy.oss-cn-qingdao.aliyuncs.com/picture/202601291636126.png)

![搭建博客p2](https://bucket-qjy.oss-cn-qingdao.aliyuncs.com/picture/202601291637496.png)

后续就是选择我们的github仓库上传就可以了

## 五.利用自定义域名cloudflare解析站点

1. 在myBlog仓库中点击domain，然后creat，输入你的子域名，比如

   blog.micaldev.top

   这样你的博客会通过子域名访问，根域名 `micaldev.top` 可以留作其他用途

2. 选择cloudflare DNS服务

3. ![img](https://p3-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/bot-chat-image/bf482bc392d84162b24cc662a59e0415.jpeg~tplv-a9rns2rl98-image.png?lk3s=8e244e95&rcl=20260128213006F4875F4C37424B278974&rrcfp=dafada99&x-expires=2085831006&x-signature=ji13Z93UQQQ%2FTWdC8XtyjVeNkBg%3D)

   在顶部输入框里，把默认的 `example.com` 替换成你的主域名：

   ```
   micaldev.top
   ```

   其他默认

4. 现在会进入DNS记录管理页面

   用来配置你域名 `micaldev.top` 的 DNS 解析规则的。它会告诉 Cloudflare 你的网站内容存放在哪里，这样 Cloudflare 才能帮你代理流量、提供加速和防护。

   点击页面右侧的 `Add record` 按钮，添加一条新的解析记录：

   - **Type**：选择 `CNAME`
   - **Name**：输入 `blog`（对应子域名 `blog.micaldev.top`）
   - **Content**：输入你的 Cloudflare Pages 域名（比如 `blog-7e8.pages.dev`）
   - **Proxy status**：务必设置为 `Proxied`（橙色云朵图标），这样才能让博客流量走 Cloudflare CDN 加速。

   **继续激活**

   添加完成后，点击底部的 `Continue to activation` 按钮，进入下一步：去域名注册商后台修改 DNS 服务器地址。

5. 最后去你买域名的地方，进入DNS管理，将其改为

   ```
   cartman.ns.cloudflare.com
   kehlani.ns.cloudflare.com
   ```

6. 最后等待生效，使用在线ping工具可以测试是否连接

7. 最后进入myBlog仓库，再次点击donmain，使用我们配置好的即可访问

## 六.后续上传博客方式

在桌面新建一个 `写博客.bat` 文件，内容如下：

```
@echo off
cd /d D:\path\to\your\hugo-blog
cmd /k
```

可以直接在终端跳到根目录下

然后命令：

```cmd
hugo new posts/myfirstBlog.md  //开始创建文档
start content/posts/myfirstBlog.md   //使用默认的typora打开文档
·····编辑好后，使用git命令上传
git status  //有一个红的untracked文件，就表示有东西新增或者修改了
git add .
git commit -M "描述信息"
git push -u origin main
```

上传到github仓库，cloudflare自动拉取内容



## PS

注意：配置好域名后，我们要将博客的yaml文件的bashURL改为我们自己的域名

`baseURL = "https://blog.micaldev.top/"`
